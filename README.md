# Android

# Recovery Mode

![image](https://github.com/gecr07/Android-Pentest/assets/63270579/7dc34306-15a4-492f-ac47-eb12e6397f7b)

> Los distintos fabricantes suelen personalizar este modo de recuperación, de modo que las opciones disponibles pueden ser diferentes dependiendo de la marca a la que pertenezca cada móvil. Pero los elementos que todos suelen mantener son los que ya te hemos contado, los de borrar la caché del sistema o eliminar la partición de datos, dos técnicas que pueden solucionar algunos problemas con el móvil.

> Esto quiere decir que existe la posibilidad de poder instalar modos de recuperación mejorados con más opciones de las que trae la versión de serie. Dos buenos ejemplos son CWM (ClockWorkMod) o TWRP, que incluyen añadidos como instalar otras versiones de Android, borrar particiones o usar una Interfaz táctil en lugar de los botones físicos.

![image](https://github.com/gecr07/Android-Pentest/assets/63270579/0f2bc189-e49d-4110-bc71-02eb2f5c5c1c)


El modo de recuperación (recovery mode) es un entorno de arranque especial en los dispositivos Android que proporciona una serie de opciones de recuperación y mantenimiento. A continuación, se presentan algunos términos técnicos clave relacionados con el modo de recuperación:

> Recovery Mode: Es el modo de recuperación propiamente dicho. Permite acceder a un sistema operativo de recuperación que puede utilizarse para realizar tareas de mantenimiento y solucionar problemas en el dispositivo.

> Bootloader: Es un programa que se ejecuta antes del sistema operativo principal y tiene la capacidad de cargar diferentes sistemas operativos o entornos, incluido el modo de recuperación. El bootloader también controla el desbloqueo del gestor de arranque (bootloader unlocking).

> Factory Reset: Es una opción disponible en el modo de recuperación que permite restablecer el dispositivo a la configuración de fábrica. Esto borra todos los datos y aplicaciones almacenados en el dispositivo.

> Wipe Cache Partition: Es una opción que permite borrar la partición de caché del dispositivo. La caché es una área de almacenamiento temporal utilizada por el sistema operativo y las aplicaciones, y borrarla puede solucionar problemas de rendimiento y estabilidad.

>  ADB (Android Debug Bridge): Es una herramienta de línea de comandos utilizada para comunicarse con un dispositivo Android desde un ordenador. En el modo de recuperación.


## Arquitectura

Android es un sistema operativo basado en el kernel de Linux. Está diseñado con una arquitectura de capas que consta de varios componentes clave (no estan puestos como capa OSI) son componentes que se tiene que saber que existen y que son fin.

### Aplicaciones

Las aplicaciones de Android se desarrollan utilizando el Android Software Development Kit (SDK) y se ejecutan en el entorno de tiempo de ejecución de Android (Android Runtime, ART).
El lenguaje de programación principal para el desarrollo de aplicaciones en Android es Java o Kotlin.

### Componentes de la aplicación

- Activity:

Representa una pantalla o una parte de la interfaz de usuario de la aplicación.

- Service:

Es un componente que se ejecuta en segundo plano para realizar tareas de larga duración sin una interfaz de usuario visible.

- Content Provider
 
Proporciona una interfaz para acceder y compartir datos entre aplicaciones.

- Broadcast Receiver

Permite a las aplicaciones recibir y responder a eventos del sistema o personalizados.

-Manifest File

Es un archivo XML que describe la estructura y los componentes de la aplicación, así como los permisos necesarios para acceder a determinadas funciones del sistema.

- Intents

Son mensajes asíncronos utilizados para comunicarse entre diferentes componentes de la aplicación o entre diferentes aplicaciones.

- API (Application Programming Interface)

Es un conjunto de interfaces y funciones que permiten a los desarrolladores acceder a las funciones y servicios del sistema operativo Android.

- Gradle

Es una herramienta de construcción utilizada para compilar y administrar dependencias en proyectos de Android. Se utiliza para construir el APK (Android Package) final de la aplicación.

- Emulador de Android

Es una herramienta que permite ejecutar y probar aplicaciones de Android en un entorno virtual en lugar de un dispositivo físico.

# Ciber Seguridad Android conceptos 

### Arquitectura de seguridad de aplicaciones móviles:

- Autenticación:

Es el proceso de verificar la identidad de un usuario o dispositivo antes de permitir el acceso a la aplicación.

- Autorización:

Consiste en otorgar los permisos adecuados a los usuarios o dispositivos para acceder a determinadas funciones o datos de la aplicación.
Encriptación: Es el proceso de convertir datos en un formato ilegible para proteger su confidencialidad. Los algoritmos de encriptación se utilizan para cifrar y descifrar los datos.

- Firma de aplicaciones (App Signing):

Es el proceso de firmar digitalmente una aplicación móvil para verificar su autenticidad e integridad.

- Almacenamiento seguro (Secure Storage): 

Es el uso de técnicas de encriptación y protección de datos para almacenar información sensible de manera segura en el dispositivo.

- Amenazas de seguridad en aplicaciones móviles:

>Man-in-the-Middle (MITM) Attack: Es un ataque en el que un tercero intercepta y modifica las comunicaciones entre la aplicación móvil y el servidor, lo que permite la manipulación de datos o la obtención de información confidencial. 

> Inyección de código (Code Injection): Es un ataque en el que se inserta código malicioso en la aplicación para ejecutar comandos no autorizados en el sistema o para obtener acceso no autorizado a datos sensibles.

> Vulnerabilidades de seguridad conocidas (Known Security Vulnerabilities): Son debilidades o fallos de seguridad previamente identificados en el código de la aplicación o en las bibliotecas utilizadas, que pueden ser explotados por los atacantes.

> Malware: Es software malicioso diseñado para dañar o comprometer la seguridad de un dispositivo o una aplicación móvil.

## El SAST Y DAST

Pruebas de seguridad de aplicaciones móviles:

Análisis de código estático (Static Code Analysis): Es el proceso de examinar el código fuente de una aplicación en busca de posibles vulnerabilidades o debilidades de seguridad.

Análisis de código dinámico (Dynamic Code Analysis): Implica ejecutar la aplicación en un entorno controlado para identificar posibles vulnerabilidades o comportamientos inseguros mientras se está ejecutando.

Pruebas de penetración (Penetration Testing): Consiste en realizar pruebas controladas para identificar vulnerabilidades en la aplicación móvil y evaluar la resistencia de la misma ante ataques.


# Android API Level

En Android se refiere a la versión de la interfaz de programación de aplicaciones (API) que está disponible en un dispositivo Android. Cada versión de Android tiene asignado un número de nivel de API específico.

> En el caso de "API level 29 or later" significa que se requiere la versión de API 29 o superior para utilizar ciertas características o funcionalidades de una aplicación. Esto implica que la aplicación está diseñada para funcionar correctamente en dispositivos con Android 10 (versión de API 29) y versiones posteriores.

> La API level determina las capacidades y las características disponibles para los desarrolladores al crear aplicaciones. A medida que se lanzan nuevas versiones de Android, se introducen mejoras y nuevas API que permiten a los desarrolladores aprovechar las últimas funcionalidades del sistema operativo y brindar una mejor experiencia a los usuarios.

> Es importante tener en cuenta el nivel de API al desarrollar o utilizar aplicaciones, ya que algunas funciones pueden no ser compatibles con versiones anteriores de Android. Por lo tanto, si tu dispositivo tiene una versión de API inferior a 29, es posible que no puedas utilizar ciertas características de una aplicación que requiera ese nivel de API.


Aqui puedes ver las api levels:

![image](https://github.com/gecr07/Android-Pentest/assets/63270579/58414bf3-d867-484a-b69e-551588cee779)


> https://github.com/AndroidSDKSources/android-sdk-sources-list

> https://apilevels.com/

# Android Virtual Machine















